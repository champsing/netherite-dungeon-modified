#RNG(-71..70)
execute store result score @s cvt_dungeonrng run random roll -71..70

#Structure Selection
#rng_macro takes 4 parameters: rng_score, room_name, dX, dZ 
function cvt_netherdungeon:rng_macro {rng_score: -71..-70, room_name: 001, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -69..-68, room_name: 002, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -67..-66, room_name: 003, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -65..-64, room_name: 004, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -63..-62, room_name: 005, dX: -5, dZ: -5}
function cvt_netherdungeon:rng_macro {rng_score: -61..-60, room_name: 006, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -59..-58, room_name: 007, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -57..-56, room_name: 008, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -55..-54, room_name: 009, dX: -5, dZ: -5}
function cvt_netherdungeon:rng_macro {rng_score: -53..-52, room_name: 010, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -51..-50, room_name: 011, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -49..-48, room_name: 012, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -47..-46, room_name: 013, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -45..-40, room_name: 014, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -43..-42, room_name: 015, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -41..-40, room_name: 016, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -39..-38, room_name: 017, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -37..-36, room_name: 018, dX: -5, dZ: -5}
function cvt_netherdungeon:rng_macro {rng_score: -35..-34, room_name: 019, dX: -5, dZ: -5}
function cvt_netherdungeon:rng_macro {rng_score: -33..-32, room_name: 020, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -31..-30, room_name: 021, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -29..-28, room_name: 022, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -27..-26, room_name: 023, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -25..-24, room_name: 024, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -23..-22, room_name: 025, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -21..-20, room_name: 026, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -19..-18, room_name: 027, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -17..-16, room_name: 028, dX: -5, dZ: -5}
function cvt_netherdungeon:rng_macro {rng_score: -15..-14, room_name: 029, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -13..-12, room_name: 030, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -11..-10, room_name: 031, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -9..-8, room_name: 032, dX: -5, dZ: -5}
function cvt_netherdungeon:rng_macro {rng_score: -7..-6, room_name: 033, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -5..-4, room_name: 034, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -3..-2, room_name: 035, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: -1..0, room_name: 036, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 1..2, room_name: 037, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 3..4, room_name: 038, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 5..6, room_name: 039, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 7..8, room_name: 040, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 9..10, room_name: 041, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 11..12, room_name: 042, dX: -5, dZ: -5}
function cvt_netherdungeon:rng_macro {rng_score: 13..14, room_name: 043, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 15..16, room_name: 044, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 17..18, room_name: 045, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 19..20, room_name: 046, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 21..22, room_name: 047, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 23..24, room_name: 048, dX: -5, dZ: -5}
function cvt_netherdungeon:rng_macro {rng_score: 25, room_name: 049, dX: -3, dZ: -3}
#frozen_strayers
function cvt_netherdungeon:rng_macro {rng_score: 26, room_name: frozen_strayers, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 27..28, room_name: 050, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 29..30, room_name: 051, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 31..32, room_name: 052, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 33..34, room_name: 053, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 35..36, room_name: 054, dX: -5, dZ: -5}
function cvt_netherdungeon:rng_macro {rng_score: 37..38, room_name: 055, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 39..40, room_name: 056, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 41..42, room_name: 057, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 43..44, room_name: 058, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 45..46, room_name: 059, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 47..48, room_name: 060, dX: -5, dZ: -5}
function cvt_netherdungeon:rng_macro {rng_score: 49, room_name: 061, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 50, room_name: 062, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 51, room_name: 063, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 52, room_name: 064, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 53, room_name: 065, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 54, room_name: 066, dX: -5, dZ: -5}
function cvt_netherdungeon:rng_macro {rng_score: 55..56, room_name: 067, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 57..58, room_name: 068, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 59, room_name: 069, dX: -3, dZ: -3}
#crimson_wither_skeleton
function cvt_netherdungeon:rng_macro {rng_score: 60, room_name: crimson_wither_skeleton, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 61..62, room_name: 070, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 63..64, room_name: 071, dX: -3, dZ: -3}
function cvt_netherdungeon:rng_macro {rng_score: 65..66, room_name: 072, dX: -5, dZ: -5}
function cvt_netherdungeon:rng_macro {rng_score: 67, room_name: 073, dX: -10, dZ: -10}
function cvt_netherdungeon:rng_macro {rng_score: 68, room_name: 074, dX: -5, dZ: -5}
function cvt_netherdungeon:rng_macro {rng_score: 69, room_name: 075, dX: -11, dZ: -11}
function cvt_netherdungeon:rng_macro {rng_score: 70, room_name: 076, dX: -3, dZ: -3}

#Lava Adjusting
execute unless block ~ 31 ~ lava run function cvt_netherdungeon:spillproof
execute if block ~ 31 ~ lava run function cvt_netherdungeon:spillproof_low

#Finishing
setblock ~ ~1 ~ redstone_block
summon minecraft:marker ~ ~ ~ {Tags:["cvt_dungeonmarker"]}
fill ~-11 0 ~-11 ~11 0 ~11 bedrock
kill @s