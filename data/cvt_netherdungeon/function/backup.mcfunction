execute positioned 0 -64 0 run setblock ~ ~-1 ~ minecraft:spawner{Delay:3000s,MaxNearbyEntities:6s,MaxSpawnDelay:20000s,MinSpawnDelay:2000s,RequiredPlayerRange:16s,SpawnCount:2s,SpawnData:{custom_spawn_rules:{block_light_limit:[0,11]},entity:{attributes:[{base:10,id:"generic.follow_range"},{base:0.1d,id:"generic.knockback_resistance"},{base:30,id:"generic.attack_damage"}],CustomName:'[{"text":"\\u935b\\u51b6","color":"blue"},{"text":"\\u4e4b\\u5fc3","color":"red"}]',CustomNameVisible:1b,DeathLootTable:"cvt_netherdungeon:crimson_wither_skeleton",Fire:0,HandDropChances:[0.0f,0.0f],HandItems:[{count:1b,id:"minecraft:netherite_sword",components:{enchantments:{fire_aspect:1, knockback:10}}},{}],Health:100,id:"minecraft:wither_skeleton"}},SpawnPotentials:[{data:{custom_spawn_rules:{block_light_limit:[0,11]},entity:{attributes:[{base:10,id:"generic.follow_range"},{base:0.1d,id:"generic.knockback_resistance"},{base:30,id:"generic.attack_damage"}],CustomName:'[{"text":"\\u935b\\u51b6","color":"blue"},{"text":"\\u4e4b\\u5fc3","color":"red"}]',CustomNameVisible:1b,DeathLootTable:"cvt_netherdungeon:crimson_wither_skeleton",Fire:0,HandDropChances:[0.0f,0.0f],HandItems:[{count:1b,id:"minecraft:netherite_sword",components:{enchantments:{fire_aspect:1, knockback:10}}},{}],Health:100,id:"minecraft:wither_skeleton"}},weight:1}],SpawnRange:4s}

execute as @e[type=minecraft:villager,distance=..10] run data merge entity @s {VillagerData: {profession: "librarian", level: 5, type: "swamp"}, Offers: {Recipes: [{buy: {id: "blaze_powder", count: 20, components: {custom_data: {updated: 2.0}, item_name: '{"bold":true,"color":"green","text":"鍛冶之炎源"}', lore: ['{"text": "獄髓地牢限定物品-緋紅凋零骷髏"}']}}}, {buyB: { id: "light_blue_dye", count:10, components: {custom_data: {updated: 2.0}, item_name: '{"bold":true,"color":"dark_aqua","text":"鍛冶之寒源"}', lore: ['{"text":"獄髓地牢限定物品-寒霜冰川流浪者"}']}}}, {sell: {id: "knowledge_book", count: 1, components: {enchantments: {unbreaking: 3}, item_name: '"一級鍛造配方"', lore: ['"可+3~5攻擊傷害"'], custom_data: {recipe_level: 1}}}, rewardExp: 0b, maxUses: 9999999, specialPrice: 0, priceMultiplier: 0},{buy: {id: "knowledge_book", count: 1, components: {enchantments: {unbreaking: 3}, item_name: '"一級鍛造配方"', lore: ['"可+3~5攻擊傷害"'], custom_data: {recipe_level: 1}}}}, {buyB: {id:"dragon_egg",count:10}}, {sell:{id:"knowledge_book",count:1,components:{enchantments: {unbreaking: 3}, item_name: '"二級鍛造配方"', lore: ['"攻擊力兩倍"'], custom_data: {recipe_level: 2}}}, rewardExp:0b, maxUses:9999999, specialPrice:0, priceMultiplier:0}]}}

setblock -6211 18 1248 minecraft:spawner{Delay:385s,MaxNearbyEntities:5s,MaxSpawnDelay:500s,MinSpawnDelay:500s,RequiredPlayerRange:16s,SpawnCount:2s,SpawnData:{custom_spawn_rules:{block_light_limit:[0,11]},entity:{attributes:[{base:10,id:"generic.follow_range"}],CustomName:'"500塊"',CustomNameVisible:1b,DeathLootTable:"cvt_netherdungeon:500",Fire:0,HandDropChances:[-1.0f,-1.0f],HandItems:[{count:1b,id:"minecraft:paper",components:{}},{}],Health:50,id:"minecraft:illusioner"}},SpawnPotentials:[{data:{custom_spawn_rules:{block_light_limit:[0,11]},entity:{attributes:[{base:10,id:"generic.follow_range"}],CustomName:'"500塊"',CustomNameVisible:1b,DeathLootTable:"cvt_netherdungeon:500",Fire:0,HandDropChances:[-1.0f,-1.0f],HandItems:[{count:1b,id:"minecraft:paper",components:{}},{}],Health:50,id:"minecraft:illusioner"}},weight:1}],SpawnRange:4s}

data modify block -6 27 -295 SpawnPotentials[0].data.entity.DeathLootTable set value "cvt_netherdungeon:500"

# bossbar set community_achievement name [{"text":"社群貢獻任務： ","bold": true,"color": "light_purple","extra":[{"text":"abc","color":"aqua","bold": true},{"text":" 已完成 ","bold": true,"color": "light_purple"},{"score":{"name": "current_score","objective": "community_achievement"},"bold": true,"color": "aqua"},{"text":" / ","bold": true,"color": "light_purple"},{"score":{"name":"goal_score","objective":"community_achievement"},"bold": true,"color": "light_purple"}]}]
# data merge storage community_achievement:bossbar_name {NameText:"{\"text\":\"abc\",\"color\":\"aqua\",\"bold\": true}"}
# data merge storage community_achievement:bossbar_ongoing {BossBarName:"{\"text\":\"社群協力任務：\",\"bold\": true,\"color\": \"light_purple\",\"extra\":[{\"nbt\":\"NameText\",\"storage\":\"community_achievement:bossbar_name\",\"interpret\": true},{\"text\":\" 目前進度：\",\"bold\": true,\"color\": \"light_purple\"},{\"score\":{\"name\": \"current_score\",\"objective\": \"community_achievement\"},\"bold\": true,\"color\": \"aqua\"},{\"text\":\" / \",\"bold\": true,\"color\": \"light_purple\"},{\"score\":{\"name\":\"goal_score\",\"objective\":\"community_achievement\"},\"bold\": true,\"color\": \"light_purple\"}]}"}
# data merge storage community_achievement:bossbar_unready {BossBarName:"{\"text\":\"社群協力任務： \",\"bold\": true,\"color\": \"light_purple\",\"extra\":[{\"text\":\"目前沒有活動\",\"color\":\"gold\",\"bold\": true}]}"}
# data merge storage community_achievement:bossbar_completed {BossBarName:"{\"text\":\"社群協力任務：\",\"bold\": true,\"color\": \"light_purple\",\"extra\":[{\"nbt\":\"NameText\",\"storage\":\"community_achievement:bossbar_name\",\"interpret\": true},{\"text\":\" 目前進度：\",\"bold\": true,\"color\": \"light_purple\"},{\"text\":\"已完成\",\"color\":\"green\",\"bold\": true}]}"}
